<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <title>Education and GDP</title>
    <script src="https://www.gstatic.com/charts/loader.js"></script>
    <script>
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawAllSheets);
      function drawAllSheets() {
        drawSheetName('gdppercapita', 'SELECT A, B, C, D, E, F, G, H',
            gdppercapitaResponseHandler);
        drawSheetName('educationpercapita', 'SELECT A, B, C, D, E, F, G, H', 
            educationpercapitaResponseHandler);
        };

      function drawSheetName(sheetName, query, responseHandler){
        var queryString = encodeURIComponent(query);
        var query = new google.visualization.Query("https://docs.google.com/spreadsheets/d/1HO0UJZz5MfXFgs5hMHvO2RHLgPe346hxpHKxIHxRGhY/gviz/tq?sheet="+ sheetName + "&headers=1&tq=" + queryString);
        query.send(responseHandler);
        };

      function  gdppercapitaResponseHandler(response){
          var data = response.getDataTable();
          data.sort({column:1, desc:true});

          var formatter = new google.visualization.NumberFormat({prefix: '$', pattern: 'short'});
          formatter.format(data, 1);

          var options = {height:400,
                          vAxis:{title:'Spending per Person ($)'},
                          hAxis:{title:'Country'},
                          isStacked: true
                        };

          var chart = new google.visualization.SteppedAreaChart(document.getElementById("gdp_per_capitadiv"));

          chart.draw(data,options);

        }//GDP

      function  educationpercapitaResponseHandler(response){
          var data = response.getDataTable();
          data.sort({column:1, desc:true});

          var formatter = new google.visualization.NumberFormat({prefix: '$', pattern: 'short'});
          formatter.format(data, 1);

          var options = {height:400,
                          vAxis:{title:'Spending per Person ($)'},
                          hAxis:{title:'Country'},
                          isStacked: true
                        };

          var chart = new google.visualization.SteppedAreaChart(document.getElementById("education_per_capita_div"));
          chart.draw(data,options);
      }; //top GDP in 2018

    </script>
</head>
<body>
    <div id="main">
        <div id="header">
            <div id="logo">
              <div class="transbox">
                    <h1><strong>Visualization and Analysis </br>
                    GDP, Education, Healthcare and Military Spending</strong></h1>
              </div>
            </div><!-- logo -->
            <div id="menubar">
                <ul id="menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="gdp.html">GPD</a></li>
                    <li  class="selected"><a href="comparison.html">Capita Comparison</a></li>
                    <li><a href="other.html">Other Comparison</a></li>
                    <li><a href="interesting.html">Interesting Information</a></li>
                </ul><!-- menu -->
            </div><!-- menubar -->
        </div><!-- header-->
        <div id="content">
        <div class="services container">
            <div class="custom-select" style="width:200px;">
                <select onChange="window.location.href=this.value">
                  <option value="comparison.html">Education & GDP</option>
                  <option value="comparison2.html">Healthcare & GDP</option>
                  <option value="comparison3.html">Military & GDP</option>
                </select>
              </div>
            <h2>GDP Per Capita of Top 10 Countries</h2>
            <div id = "gdp_per_capitadiv" style="width:850px; height:500px"></div>

            <h2>Education Per Capita Top 10 Countries</h2>
            <div id="education_per_capita_div" style="width:850px; height:500px"></div>

        </div><!-- services_container -->
      </div>
        <div id="footer">   
            Copyright&copy;
            <script>
                var d= new Date();
                document.write(d.getFullYear());
            </script>
            | <a href="https://www.linkedin.com/in/chengzeng92/">Linkedin</a>
            | <a href="mailto:czeng@gwmail.gwu.com">Contact US</a>
            | Create by- Cheng Zeng (Jane)
        </div><!-- footer -->
    </div><!-- main -->
<script src="js/jquery-2.1.4.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/script.js"></script>
</body>
</html>